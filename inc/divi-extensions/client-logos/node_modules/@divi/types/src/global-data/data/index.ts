import {
  type CSSProperties,
} from 'react';


export namespace Data {

  /**
   * Status of the color.
   *
   * @since ??
   */
  export type ColorStatus = 'active' | 'inactive' | 'temporary';

  /**
   * Global Color structure.
   *
   * The key serves as the Global Color ID. The value is an object that describes the color and
   * tracks its usage.
   *
   * @since ??
   *
   * @example
   *
   * ```ts
   * {
   *   '067ea481-542b-4e98-9b68-a2a672c2f687': {
   *     id: '067ea481-542b-4e98-9b68-a2a672c2f687',
   *     color: '#000000',
   *     folder: 'My Colors',
   *     label: 'Black',
   *     lastUpdated: '2020-01-01T00:00:00.000Z',
   *     status: 'active',
   *     usedInPosts: [
   *       123,
   *       456,
   *       789,
   *     ],
   *   },
   * }
   * ```
   */
  export interface Color {

    /**
     * Unique ID.
     *
     * @since ??
     */
    id: string;

    /**
     * The CSS color value.
     *
     * This can be any valid CSS color value, including hex, rgb, rgba, hsl, hsla, and named colors.
     *
     * @since ??
     *
     * @example
     *
     * ```ts
     * '#000000'
     *
     * 'rgb(0, 0, 0)'
     *
     * 'rgba(0, 0, 0, 1)'
     *
     * 'hsl(0, 0%, 0%)'
     *
     * 'hsla(0, 0%, 0%, 1)'
     *
     * 'black'
     * ```
     */
    color: CSSProperties['color'];

    /**
     * Collection in which this color is stored.
     *
     * Optional. Can be used to group colors in the builder UI.
     *
     * If not provided, the color will not be grouped.
     *
     * @since ??
     */
    folder?: string;

    /**
     * User-facing name of the color.
     *
     * Optional. Can be used to display a label for the color in the builder UI.
     *
     * If not provided, the color will not have a label.
     *
     * @since ??
     */
    label?: string;

    /**
     * Timestamp of when the color was last updated.
     *
     * Each time a post is saved, this timestamp is updated if the color is or was used in the post.
     * This timestamp is used in conjunction with the `usedInPosts` and `status` properties to determine
     * if the color can be safely deleted. Even if the color is inactive and the `usedInPosts` is 0, it
     * will not be deleted until the `lastUpdated` timestamp is older than 7 days.
     *
     * @since ??
     */
    lastUpdated: string;

    /**
     * Status of the color.
     *
     * If inactive, the color will not be available for use in the builder, but will remain in the
     * database for any existing posts that use it.
     *
     * @since ??
     */
    status: ColorStatus;

    /**
     * Array of Post IDs that use the color.
     *
     * This is used to determine if the color is in use. Each time a post is saved, the color is
     * checked to see if it is in use. If it is, the post ID is added to the array. If it is not,
     * the post ID is removed from the array.
     *
     * If the array is empty, the color is not in use and it can be safely deleted.
     *
     * @since ??
     */
    usedInPosts: number[];
  }

  /**
   * Record of Global Color.
   *
   * @since ??
   */
  export type Colors = Record<string, Color>;

  /**
   * Represents an exported Global Color.
   *
   * @since ??
   */
  export interface ExportColor {
    color: CSSProperties['color'];
    status: ColorStatus;
  }

  /**
   * Array of exported Global Color.
   *
   * @since ??
   */
  export type ExportColors = Array<[string, ExportColor]>;
}
