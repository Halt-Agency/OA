import { type Icon } from '../../icon';
import { type KeyboardShortcuts } from '../../keyboard-shortcuts';
import { type Modal } from '../../modal';


export namespace IconPicker {

  /**
   * @typedef {object} OpenModalParams
   * @property {string} name Name.
   * @property {boolean} centered Centered.
   * @property {object} dimension Dimension.
   * @property {object} attributes Attributes.
   * @property {object[]} attributes.icons Icons.
   * @property {boolean} attributes.showSearch Show search.
   * @property {boolean} attributes.showFilter Show filter.
   * @property {object} attributes.selectedIcon Selected icon.
   * @property {Function} attributes.onChange On change callback.
   */
  export interface OpenModalParams {
    name: 'divi/icon-picker';
    centered: boolean;
    dimension: Modal.Dimension;
    attributes: {
      icons: Icon.Type['data'][];
      showSearch: boolean;
      showFilter: boolean;
      selectedIcon: Icon.Font.AttributeValue;
      onChange: (props: { inputValue: Icon.Font.AttributeValue }) => void;
    }
  }

  /**
   * @typedef {object} Props
   * @property {Function} onChange On change callback.
   * @property {Function} openModal Open modal callback.
   * @property {Function} registerShortcuts Register shortcuts callback.
   * @property {Function} unregisterShortcuts Unregister shortcuts callback.
   * @property {number} [rowCount] Row count.
   * @property {object[]} [icons] Icons.
   * @property {boolean} [showSearch] Show search.
   * @property {boolean} [showFilter] Show filter.
   * @property {boolean} [showModal] Show modal.
   * @property {object} [defaultValue] Default value.
   * @property {boolean} [findReplaceMode] Find replace mode.
   * @property {string} [keySuffix] Key suffix.
   * @property {boolean} ["readonly"] Read only.
   * @property {object} [value] Value.
   * @property {boolean} [scrollToSelected] Scroll to selected.
   */
  export type Props = {
    onChange: (props: { inputValue: Icon.Font.AttributeValue }) => void;
    openModal: (params: OpenModalParams) => void;
    registerShortcuts: (shortcuts: KeyboardShortcuts.Shortcut.Item[]) => void,
    unregisterShortcuts: (names: string[]) => void;

    rowCount?: number;
    icons?: Icon.Type['data'][];
    showSearch?: boolean;
    showFilter?: boolean;
    showModal?: boolean;
    defaultValue?: Icon.Font.AttributeValue;
    findReplaceMode?: boolean;
    keySuffix?: string | null;
    readonly?: boolean;
    value?:  Icon.Font.AttributeValue;
    scrollToSelected?: boolean;
  }

  /**
   * @typedef {object} ShortcutsArgs
   * @property {Function} onChange On change callback.
   * @property {string} prefix Prefix.
   * @property {HTMLElement} scrollArea Scroll area.
   */
  export type ShortcutsArgs = {
    onChange: Props['onChange'];
    prefix: string;
    scrollArea: HTMLElement;
  };

  /**
   * @typedef {object} ActionArgs
   * @property {('left'|'right'|'up'|'down')} direction Direction.
   * @property {Function} onChange On change callback.
   * @property {HTMLElement} scrollArea Scroll area.
   */
  export type ActionArgs = {
    direction: 'left' | 'right' | 'up' | 'down';
    onChange: ShortcutsArgs['onChange'];
    scrollArea: ShortcutsArgs['scrollArea'];
  }
}
